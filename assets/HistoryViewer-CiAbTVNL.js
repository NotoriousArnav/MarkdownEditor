import{r as m,j as e,D as u,s as g,t as j,v,S as n,x as p,B as i}from"./index-CdFlbmqE.js";const y=({isOpen:c,onClose:t,history:o,currentContent:f,setContent:d})=>{const[s,x]=m.useState(null),r=o.getHistory(),h=()=>{s!==null&&r[s]&&(d(r[s]),t())};return e.jsx(u,{open:c,onOpenChange:a=>!a&&t(),children:e.jsxs(g,{className:"max-w-4xl h-[80vh] flex flex-col",children:[e.jsx(j,{children:e.jsx(v,{children:"Edit History"})}),e.jsxs("div",{className:"flex flex-1 gap-4 min-h-0 overflow-hidden",children:[e.jsx("div",{className:"w-1/3 border rounded-md",children:e.jsx(n,{className:"h-full",children:e.jsx("div",{className:"p-2",children:r.map((a,l)=>e.jsxs("div",{className:`p-2 mb-1 cursor-pointer rounded truncate hover:bg-gray-100 hover:text-black dark:hover:bg-gray-700 ${s===l?"brightness-150 bg-blend-overlay invert text-black bg-gray-100":""}`,onClick:()=>x(l),children:[e.jsxs("div",{className:"font-medium",children:["Version ",l+1]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:a.substring(0,100)})]},l))})})}),e.jsx("div",{className:"w-2/3 border rounded-md",children:e.jsx(n,{className:"h-full",children:s!==null?e.jsx("pre",{className:"p-4 font-mono text-sm whitespace-pre-wrap",children:r[s]}):e.jsx("div",{className:"p-4 text-gray-400 dark:text-gray-500 flex items-center justify-center h-full",children:"Select a version to preview"})})})]}),e.jsxs(p,{children:[e.jsx(i,{variant:"outline",onClick:t,children:"Cancel"}),e.jsx(i,{onClick:h,disabled:s===null,children:"Restore This Version"})]})]})})};export{y as HistoryViewer};
